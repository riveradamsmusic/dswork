<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RiverAdam$</title>
    <style>
        /* Google Font Imports */
        @import url('https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Rubik+Doodle+Shadow&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Comic+Neue&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap');
        
        /* Base Styles */
        body {
            background: #1a3142;
            height: 100vh;
            display: grid;
            place-items: center;
            margin: 0;
            overflow: hidden;
            position: relative;
        }
        
        .handwritten {
            font-family: 'Caveat', cursive;
            color: white;
            user-select: none;
            letter-spacing: 1px;
        }
        
        /* Floating Image */
        #floatingImage {
            position: absolute;
            width: 60px;
            height: 60px;
            object-fit: cover;
            z-index: 20;
            cursor: grab;
            user-select: none;
            touch-action: none;
            border-radius: 50%;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16);
            transition: transform 0.1s ease-out;
            border: none;
            top: 20%;
            left: 10%;
        }

        #floatingImage.grabbing {
            transform: scale(0.92);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
            cursor: grabbing;
        }
        
        /* Flick Prompt */
        .flick-prompt {
            position: absolute;
            top: calc(20% + 70px);
            left: 10%;
            transform: translateX(-50%);
            color: white;
            font-family: 'Caveat', cursive;
            font-size: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 21;
            transition: opacity 0.3s ease;
        }
        
        .flick-prompt .arrow {
            font-size: 30px;
            margin-top: -10px;
        }
        
        /* Smoke Trail Effect */
        .smoke-trail {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
            pointer-events: none;
            z-index: 19;
            transform: translate(-50%, -50%);
            opacity: 0;
            animation: smoke-fade 1.5s ease-out forwards;
        }

        @keyframes smoke-fade {
            0% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(0.8);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.5);
            }
        }

        /* Rest of your existing styles... */
        /* [All your other existing styles remain unchanged] */
        
    </style>
</head>
<body>
    <!-- Flick Prompt Element -->
    <div class="flick-prompt" id="flickPrompt">
        <div>Flick</div>
        <div class="arrow">‚Üë</div>
    </div>

    <!-- Floating Image -->
    <img id="floatingImage" src="RIVERADAMSME/1.jpg" alt="Floating Image">

    <!-- Rest of your existing HTML... -->
    <div id="container">
        <div class="emoji-wrapper">
            <span id="emoji" class="handwritten">üìº</span>
        </div>
        
        <span id="text" class="handwritten">RiverAdam$</span>
        
        <div class="slideshow-container" id="slideshow">
            <div class="spinner"></div>
        </div>
        
        <div class="top-right-images" id="topRightImages">
            <img src="RIVERADAMSME/2.jpg" class="top-right-image" alt="RiverAdams 2">
        </div>
        
        <div class="carousel-container" id="carousel"></div>
        
        <div class="progress-track" id="progressTrack">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        
        <div class="game-character" id="gameCharacter"></div>
        
        <div class="platform-links" id="platformLinks">
            <a href="https://music.apple.com/us/artist/river-adams/1554125278" class="platform-link" target="_blank">
                <span class="platform-emoji apple">üçé</span>
            </a>
            <a href="https://www.youtube.com/@RiverAdamsMusic" class="platform-link" target="_blank">
                <span class="platform-emoji youtube">‚ñ∂Ô∏è</span>
            </a>
            <a href="https://open.spotify.com/artist/5ZV6CFDURLSarqDL7Wwn6n?si=0H_HMr3dTQefGaHi7RX7FQ" class="platform-link" target="_blank">
                <span class="platform-emoji spotify">üéµ</span>
            </a>
            <a href="https://www.instagram.com/riveradamsmusic/" class="platform-link" target="_blank">
                <span class="platform-emoji instagram">üì∏</span>
            </a>
        </div>
    </div>

    <div id="afeegoVideoContainer" style="display: none; position: fixed; left: 20px; bottom: 20px; z-index: 100;">
        <video id="afeegoVideo" width="320" height="180" controls style="border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
            <source src="AFEEGO/1.mp4" type="video/mp4">
        </video>
    </div>

    <script>
        // DOM Elements
        const floatingImage = document.getElementById('floatingImage');
        const flickPrompt = document.getElementById('flickPrompt');
        const emoji = document.getElementById('emoji');
        const emojiWrapper = document.querySelector('.emoji-wrapper');
        const text = document.getElementById('text');
        const carousel = document.getElementById('carousel');
        const slideshow = document.getElementById('slideshow');
        const topRightImages = document.getElementById('topRightImages');
        const platformLinks = document.getElementById('platformLinks');
        const gameCharacter = document.getElementById('gameCharacter');
        const progressTrack = document.getElementById('progressTrack');
        const progressFill = document.getElementById('progressFill');
        const spinner = document.querySelector('.spinner');
        
        // State Variables
        let currentAudio = null;
        let currentPlayingTrack = null;
        let audioContext = null;
        let slideInterval = null;
        let currentSlide = 0;
        let loadedImages = 0;
        let totalImages = 0;
        let isDragging = false;
        let isDraggingFloatingImage = false;
        let progressUpdateInterval = null;
        let isVideoPlaying = false;
        let hasAfeegoVideoPlayed = false;
        
        // Floating Image Variables
        let lastX = 0;
        let lastY = 0;
        let currentX = 0;
        let currentY = 0;
        let velocityX = 0;
        let velocityY = 0;
        const friction = 0.98;
        let animationFrameId;
        let lastSmokeTime = 0;
        const smokeInterval = 100;
        
        // Data
        const audioFiles = [
            { name: "21 Century", file: "RIVERADAMS/21_Century_copy.mp3", duration: 180 },
            { name: "Grey", file: "RIVERADAMS/grey_copy.mp3", duration: 210 },
            { name: "ùêåùê´. ùêíùê®Ã∑ùê•ùê®Ã∑", file: "RIVERADAMS/Mr_Solo_copy.mp3", duration: 195 },
            { name: "Opportunities", file: "RIVERADAMS/Opportunities_copy.mp3", duration: 225 },
            { name: "Rap (feat. AFEEGO)", file: "RIVERADAMS/Rap_feat_AFEEGO_copy.mp3", duration: 240 },
            { name: "Spoken Word", file: "RIVERADAMS/Spoken_Word_copy.mp3", duration: 180 },
            { name: "Trying", file: "RIVERADAMS/Trying_copy.mp3", duration: 200 },
            { name: "ùì¶ùîÇùì∑ùîÄùì∏ùì∏ùì≠", file: "RIVERADAMS/Wynwood_copy_Wav.mp3", duration: 190 }
        ];

        const photoFiles = Array.from({length: 11}, (_, i) => `RIVERADAMSPICZ/${i+1}.jpg`);
        totalImages = photoFiles.length;

        // Initialize floating image with prompt
        function initFloatingImageWithPrompt() {
            // Set initial position (upper left)
            const initialX = window.innerWidth * 0.1;
            const initialY = window.innerHeight * 0.2;
            
            currentX = initialX;
            currentY = initialY;
            floatingImage.style.left = `${currentX}px`;
            floatingImage.style.top = `${currentY}px`;
            
            // Position the prompt below the image
            flickPrompt.style.left = `${initialX + 30}px`;
            flickPrompt.style.top = `${initialY + 70}px`;
            
            // Hide other elements initially
            emojiWrapper.style.display = 'none';
            
            // Add event listener to remove prompt on first interaction
            const removePrompt = () => {
                flickPrompt.style.opacity = '0';
                setTimeout(() => {
                    flickPrompt.style.display = 'none';
                }, 300);
                
                // Remove event listeners after first interaction
                floatingImage.removeEventListener('mousedown', removePrompt);
                floatingImage.removeEventListener('touchstart', removePrompt);
                
                // Initialize the rest of the experience
                emojiWrapper.style.display = 'block';
            };
            
            floatingImage.addEventListener('mousedown', removePrompt);
            floatingImage.addEventListener('touchstart', removePrompt);
            
            // Initialize the floating image physics
            initFloatingImagePhysics();
        }
        
        // Initialize floating image physics (same as your original function)
        function initFloatingImagePhysics() {
            // Physics parameters
            const throwPower = 2.2;
            const friction = 0.98;
            const bounceFactor = 0.7;

            function updateFloatingImage() {
                if (!isDraggingFloatingImage) {
                    // Apply friction
                    velocityX *= friction;
                    velocityY *= friction;
            
                    // Update position
                    currentX += velocityX;
                    currentY += velocityY;

                    // Boundary checks with bounces
                    if (currentX < 0) {
                        currentX = 0;
                        velocityX *= -bounceFactor;
                    } else if (currentX > window.innerWidth - floatingImage.offsetWidth) {
                        currentX = window.innerWidth - floatingImage.offsetWidth;
                        velocityX *= -bounceFactor;
                    }

                    if (currentY < 0) {
                        currentY = 0;
                        velocityY *= -bounceFactor;
                    } else if (currentY > window.innerHeight - floatingImage.offsetHeight) {
                        currentY = window.innerHeight - floatingImage.offsetHeight;
                        velocityY *= -bounceFactor;
                    }

                    floatingImage.style.left = `${currentX}px`;
                    floatingImage.style.top = `${currentY}px`;
                    
                    // Create smoke trail when moving
                    if (Math.abs(velocityX) > 0.1 || Math.abs(velocityY) > 0.1) {
                        createSmokeTrail(
                            currentX + floatingImage.offsetWidth / 2,
                            currentY + floatingImage.offsetHeight / 2
                        );
                    }
                }
                animationFrameId = requestAnimationFrame(updateFloatingImage);
            }

            // Track initial throw direction
            let throwVector = { x: 0, y: 0 };

            floatingImage.addEventListener('mousedown', handleDragStart);
            floatingImage.addEventListener('touchstart', handleDragStart, { passive: false });

            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('touchmove', handleDragMove, { passive: false });

            document.addEventListener('mouseup', handleDragEnd);
            document.addEventListener('touchend', handleDragEnd);

            function handleDragStart(e) {
                isDraggingFloatingImage = true;
                floatingImage.classList.add('grabbing');
                throwVector = { x: 0, y: 0 };
        
                const clientX = e.clientX || (e.touches && e.touches[0].clientX);
                const clientY = e.clientY || (e.touches && e.touches[0].clientY);
        
                if (clientX && clientY) {
                    lastX = clientX;
                    lastY = clientY;
                }
        
                if (e.cancelable) e.preventDefault();
            }

            function handleDragMove(e) {
                if (!isDraggingFloatingImage) return;
        
                const clientX = e.clientX || (e.touches && e.touches[0].clientX);
                const clientY = e.clientY || (e.touches && e.touches[0].clientY);
        
                if (!clientX || !clientY) return;
        
                // Track movement vector
                throwVector.x = clientX - lastX;
                throwVector.y = clientY - lastY;
        
                currentX += throwVector.x;
                currentY += throwVector.y;
                floatingImage.style.left = `${currentX}px`;
                floatingImage.style.top = `${currentY}px`;
        
                lastX = clientX;
                lastY = clientY;
        
                if (e.cancelable) e.preventDefault();
            }

            function handleDragEnd() {
                if (!isDraggingFloatingImage) return;
        
                isDraggingFloatingImage = false;
                floatingImage.classList.remove('grabbing');
        
                // Apply velocity in throw direction
                if (Math.abs(throwVector.x) > 1 || Math.abs(throwVector.y) > 1) {
                    velocityX = throwVector.x * throwPower * 0.3;
                    velocityY = throwVector.y * throwPower * 0.3;
                }
            }

            updateFloatingImage();
        }
        
        // Create smoke trail effect
        function createSmokeTrail(x, y) {
            const now = Date.now();
            if (now - lastSmokeTime < smokeInterval) return;
            lastSmokeTime = now;
            
            const smoke = document.createElement('div');
            smoke.className = 'smoke-trail';
            smoke.style.left = `${x}px`;
            smoke.style.top = `${y}px`;
            document.body.appendChild(smoke);
            
            // Remove smoke element after animation completes
            setTimeout(() => {
                smoke.remove();
            }, 1500);
        }

        // [Rest of your existing functions remain unchanged...]

        // Initialize the page
        window.addEventListener('DOMContentLoaded', () => {
            initFloatingImageWithPrompt();
            
            // Your existing emoji click handler
            emojiWrapper.addEventListener('click', async () => {
                if (!audioContext) {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    await audioContext.resume();
                }
                
                emoji.classList.add('fade-out');
                
                setTimeout(() => {
                    emojiWrapper.style.display = 'none';
                    showGlitchText();
                }, 500);
            });
        });
    </script>
</body>
</html>
